<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="bootstrap-5.0.2-dist/css/bootstrap.min.css"
	rel="stylesheet">
<link href="web.css" rel="stylesheet">
<link href="fontawesome/css/font-awesome.min.css" rel="stylesheet">
</head>
<body> 
	<script src="jquery-3.5.1.min.js"></script>
	<script src="bootstrap-5.0.2-dist/js/bootstrap.bundle.min.js"></script>
	<div id="wrap" class="m-3">
		<div id="main" class="container clear-top">
			<h1 data-i18n="editConnection">Edit Connection</h1>
			<form id="editConnectionForm">
				<div class="form-group">
					<label for="name" data-i18n="name">Name</label> 
					<input type="text" class="form-control" id="name" data-attr-name="value" data-attr-value="name"
						aria-describedby="nameHelp" placeholder="My Connection"> 
					<small id="nameHelp" data-i18n="nameHelp" class="form-text text-muted">Help</small>
				</div>
				<div class="form-group">
					<label for="serverUrl" data-i18n="serverAddress">Server address</label> 
					<input type="text" class="form-control" id="serverUrl" data-attr-name="value" data-attr-value="serverUrl"
						aria-describedby="serverAddressHelp" data-attr-i18n-placeholder="serverAddressPlaceholder" placeholder="https://....."> 
					<small id="serverAddressHelp" data-i18n="serverAddressHelp" class="form-text text-muted">Help</small>
				</div>
				<div class="form-group mt-3">
					<div class="form-check">
						<input type="checkbox" class="form-check-input" id="connectAtStartup" data-attr-name="checked" data-attr-value="connectAtStartup">
						<label class="form-check-label" for="connectAtStartup" data-i18n="connectAtStartup">Connect to this network when LogonBox VPN Client starts.</label>
					</div>
				</div>
				<div class="form-group mb-3">
					<div class="form-check">
						<input type="checkbox" class="form-check-input" id="stayConnected" data-attr-name="checked" data-attr-value="stayConnected">
						<label class="form-check-label" for="stayConnected" data-i18n="stayConnected">Stay connected to this network.</label>
					</div>
				</div>
				<button type="submit" class="btn btn-primary" data-i18n="save">Save</button>
			</form>
		</div>
	</div>

	<script type="text/javascript">
        function uiReady() {
			$('#name').attr('placeholder', connection.getDefaultDisplayName());
			$('#connectAtStartup').prop('checked', connection.isConnectAtStartup());
			$('#stayConnected').prop('checked', connection.isStayConnected());
			$("#editConnectionForm").submit(function(event) { 
				bridge.editConnection({
					'serverUrl': $('#serverUrl').val(),
					'connectAtStartup': $('#connectAtStartup').is(':checked'),
					'stayConnected': $('#stayConnected').is(':checked'),
					'name': $('#name').val(),
				});
				event.preventDefault();
			});
		};
	</script>
</body>
</html>
