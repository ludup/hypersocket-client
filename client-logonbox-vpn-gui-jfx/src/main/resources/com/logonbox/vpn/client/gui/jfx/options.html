<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="bootstrap-5.0.0-beta1-dist/css/bootstrap.min.css"
	rel="stylesheet">
<link href="web.css" rel="stylesheet">
<link href="fontawesome/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>
	<script src="jquery-3.5.1.min.js"></script>
	<script src="bootstrap-5.0.0-beta1-dist/js/bootstrap.bundle.min.js"></script>
	<div id="wrap">
		<div id="main" class="container clear-top mt-3">
			<h1 data-i18n="options">Options</h1>
			<form id="optionsForm">
				<h4 data-i18n="updates">Updates</h4>

				<div class="form-check">
					<input type="checkbox" class="form-check-input"
						id="automaticUpdates" /> <label for="automaticUpdates"
						data-i18n="automaticUpdates">Automatic Updates</label>
					<p>
						<small id="phaseHelp" data-i18n="automaticUpdatesHelp"
							class="form-text text-muted">Help</small>
					</p>
				</div>

				<div class="form-group" data-visibility="!tracksServerVersion"
					style="display: none;">
					<label for="phase" data-i18n="phase">Update Channel</label> <select
						class="form-control" id="phase">
					</select> <small id="phaseHelp" data-i18n="phaseHelp"
						class="form-text text-muted">Help</small>
				</div>

				<h4 data-i18n="tray">Tray</h4>

				<div class="form-group">
					<label for="trayMode" data-i18n="trayMode">Tray Mode</label> <select
						class="form-control" id="trayMode">
					</select> <small id="trayModeHelp" data-i18n="trayModeHelp"
						class="form-text text-muted">Tray Mode Help</small>
				</div>


				<button type="submit" class="btn btn-primary" data-i18n="save">Save</button>
			</form>
		</div>
	</div>
	<script type="text/javascript">
		for (var i = 0; i < trayModes.length; i++) {
			$('#trayMode').append('<option ' + (trayModes[i] === trayMode ? 'selected' : '') + ' value="' + trayModes[i] + '">' + pageBundle.getString('trayMode.' + trayModes[i]) + '</option>');
		}
		for (var i = 0; i < phases.length; i++) {
			$('#phase').append('<option ' + (phases[i].getName() === phase ? 'selected' : '') + '>' + phases[i].getName() + '</option>');
		}
		$('#automaticUpdates').prop('checked', automaticUpdates);
		$("#optionsForm").submit(function(event) {
			bridge.saveOptions({
				'trayMode': 		$('#trayMode').val(),
				'phase': 			$('#phase').val(),
				'automaticUpdates':	$('#automaticUpdates').is(':checked')
			});
			return false;
		});
	</script>
</body>
</html>
